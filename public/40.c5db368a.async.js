webpackJsonp([40],{1420:function(e,a,t){"use strict";function n(e){return Object(s.a)("/api/uaa/departments/".concat(e.departmentId,"/children"))}Object.defineProperty(a,"__esModule",{value:!0});var r=t(183),d=t.n(r),o=t(70),i=t.n(o),c=t(344),p=t.n(c),s=t(335);t(125),t(178),t(677),a.default={namespace:"area",state:{org:[],loading:!1},reducers:{save:function(e,a){var t=a.payload,n=t.org,r=t.departmentId,d=JSON.parse(p()(e));if(d.org&&0!=d.org.length&&r){return function e(a){for(var t=0;t<a.length;t++){if(a[t].id==n.id){a[t]=n;break}a[t].children&&a[t].children.length>0&&e(a[t].children,a[t])}}(d.org),i()({},e,d)}return i()({},e,{org:n})}},effects:{getOrg:d.a.mark(function e(a,t){var r,o,i,c,p,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.payload.departmentId,o=void 0===r?"-1":r,i=t.call,c=t.put,e.next=4,c({type:"loadingSave",payload:{loading:!0}});case 4:return e.next=6,i(n,{departmentId:o});case 6:return p=e.sent,s=p.data,e.next=10,c({type:"loadingSave",payload:{loading:!1}});case 10:if(!s){e.next=14;break}if("200"!=s.code){e.next=14;break}return e.next=14,c({type:"save",payload:{org:s.data,departmentId:o}});case 14:case"end":return e.stop()}},e,this)})},subscriptions:{setup:function(e){var a=e.dispatch;return e.history.listen(function(e){var t=e.pathname;e.query,"/container/Area"===t&&a({type:"getOrg",payload:{}})})}}}}});
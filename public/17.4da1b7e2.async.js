webpackJsonp([17],{1424:function(e,r,t){"use strict";function a(e){return Object(j.a)("/api/uaa/roles/page?".concat(w.a.stringify(e)))}function n(e){return Object(j.a)("/api/uaa/roles",{method:"post",body:x()(e)})}function o(e){return Object(j.a)("/api/uaa/roles/".concat(e.id),{method:"put",body:x()(e)})}function c(e){return Object(j.a)("/api/uaa/roles",{method:"delete",body:x()({ids:e})})}function i(e){return Object(j.a)("/api/uaa/roles/".concat(e.id,"/").concat(e.statu),{method:"put"})}function s(){return Object(j.a)("/api/uaa/menus")}function u(e){return Object(j.a)("/api/uaa/roles/"+e.id+"/pages")}function l(e){return Object(j.a)("/api/uaa/roles/allocation",{method:"post",body:x()(e)})}Object.defineProperty(r,"__esModule",{value:!0});var p=t(1705),d=t.n(p),f=t(183),y=t.n(f),b=(t(184),t(185)),m=t.n(b),v=t(70),g=t.n(v),h=t(344),x=t.n(h),j=t(335),O=t(1521),w=t.n(O),k=t(1460),A=(t(125),t(178));r.default={namespace:"role",state:{data:[],total:null,page:null,menu:[]},reducers:{save:function(e,r){var t=r.payload,a=t.data,n=t.total,o=t.page;return g()({},e,{data:a,total:n,page:o})},menuSave:function(e,r){var t=r.payload.menu;return g()({},e,{menu:t})}},effects:{query:y.a.mark(function e(r,t){var n,o,c,i,s,u,l,p,d;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.payload,o=n.page,c=void 0===o?"1":o,i=n.pageSize,s=void 0===i?k.a:i,u=t.call,l=t.put,Object(A.d)(),e.next=5,u(a,{page:c,pageSize:s});case 5:if(p=e.sent,d=p.data,Object(A.c)(),!d||200!=d.code){e.next=13;break}return e.next=11,l({type:"save",payload:{data:d.data.content,total:parseInt(d.data.totalElements,10),page:parseInt(d.data.number+1,10)}});case 11:e.next=14;break;case 13:d?m.a.error(d.message):m.a.error("\u670d\u52a1\u5668\u9519\u8bef");case 14:case"end":return e.stop()}},e,this)}),add:y.a.mark(function e(r,t){var a,o,c,i,s,u,l;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.payload,o=a.values,c=a.search,i=t.call,s=t.put,e.next=4,i(n,o);case 4:if(u=e.sent,l=u.data,Object(A.c)(),!l){e.next=17;break}if(200!=l.code){e.next=14;break}return m.a.success(l.message),e.next=12,s({type:"query",payload:g()({},c)});case 12:e.next=15;break;case 14:m.a.error(l.message);case 15:e.next=18;break;case 17:m.a.error("\u670d\u52a1\u5668\u9519\u8bef");case 18:case"end":return e.stop()}},e,this)}),edit:y.a.mark(function e(r,t){var a,n,c,i,s,u,l,p;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.payload,n=a.values,c=a.search,i=a.resetRow,s=t.call,u=t.put,e.next=4,s(o,n);case 4:if(l=e.sent,p=l.data,Object(A.c)(),!p){e.next=17;break}if(200!=p.code){e.next=14;break}return m.a.success(p.message),e.next=12,u({type:"query",payload:g()({},c,{resetRow:i,id:n.id})});case 12:e.next=15;break;case 14:m.a.error(p.message);case 15:e.next=18;break;case 17:m.a.error("\u670d\u52a1\u5668\u9519\u8bef");case 18:case"end":return e.stop()}},e,this)}),del:y.a.mark(function e(r,t){var a,n,o,i,s,u,l;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.payload,n=a.rowId,o=a.search,i=t.call,s=t.put,e.next=4,i(c,n);case 4:if(u=e.sent,l=u.data,Object(A.c)(),!l){e.next=17;break}if(200!=l.code){e.next=14;break}return m.a.success(l.message),e.next=12,s({type:"query",payload:g()({},o)});case 12:e.next=15;break;case 14:m.a.error(l.message);case 15:e.next=18;break;case 17:m.a.error("\u670d\u52a1\u5668\u9519\u8bef");case 18:case"end":return e.stop()}},e,this)}),statusRoles:y.a.mark(function e(r,t){var a,n,o,c,s,u,l,p;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.payload,n=a.id,o=a.statu,c=a.page,s=t.call,u=t.put,e.next=4,s(i,{id:n,statu:o});case 4:if(l=e.sent,p=l.data,Object(A.c)(),!p){e.next=17;break}if(200!=p.code){e.next=14;break}return m.a.success("\u72b6\u6001\u4fee\u6539\u6210\u529f"),e.next=12,u({type:"query",payload:{page:c}});case 12:e.next=15;break;case 14:m.a.error(p.message);case 15:e.next=18;break;case 17:m.a.error("\u670d\u52a1\u5668\u9519\u8bef");case 18:case"end":return e.stop()}},e,this)}),getMenu:y.a.mark(function e(r,t){var a,n,o,c;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d()(r.payload),a=t.call,n=t.put,e.next=4,a(s,{});case 4:if(o=e.sent,c=o.data,Object(A.c)(),!c){e.next=16;break}if(200!=c.code){e.next=13;break}return e.next=11,n({type:"menuSave",payload:{menu:c.data}});case 11:e.next=14;break;case 13:m.a.error(c.message);case 14:e.next=17;break;case 16:m.a.error("\u670d\u52a1\u5668\u9519\u8bef");case 17:case"end":return e.stop()}},e,this)}),getPageAllocation:y.a.mark(function e(r,t){var a,n,o,c,i,s,l;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.payload,n=a.id,o=a.disposeHander,c=t.call,i=t.put,e.next=4,c(u,{id:n});case 4:s=e.sent,l=s.data,Object(A.c)(),l?200==l.code?o(l.data):m.a.error(l.message):m.a.error("\u670d\u52a1\u5668\u9519\u8bef");case 8:case"end":return e.stop()}},e,this)}),handleOk:y.a.mark(function e(r,t){var a,n,o,c,i;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.payload,n=t.call,o=t.put,e.next=4,n(l,a);case 4:c=e.sent,i=c.data,Object(A.c)(),i?200==i.code?m.a.success(i.message):m.a.error(i.message):m.a.error("\u670d\u52a1\u5668\u9519\u8bef");case 8:case"end":return e.stop()}},e,this)})},subscriptions:{setup:function(e){var r=e.dispatch;return e.history.listen(function(e){var t=e.pathname;e.query,"/container/Role"===t&&(r({type:"query",payload:{}}),r({type:"getMenu",payload:{}}))})}}}},1460:function(e,r,t){"use strict";t.d(r,"a",function(){return a});var a=10},1476:function(e,r,t){"use strict";var a=Object.prototype.hasOwnProperty,n=function(){for(var e=[],r=0;r<256;++r)e.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return e}(),o=function(e){for(var r;e.length;){var t=e.pop();if(r=t.obj[t.prop],Array.isArray(r)){for(var a=[],n=0;n<r.length;++n)void 0!==r[n]&&a.push(r[n]);t.obj[t.prop]=a}}return r},c=function(e,r){for(var t=r&&r.plainObjects?Object.create(null):{},a=0;a<e.length;++a)void 0!==e[a]&&(t[a]=e[a]);return t},i=function e(r,t,n){if(!t)return r;if("object"!=typeof t){if(Array.isArray(r))r.push(t);else{if("object"!=typeof r)return[r,t];(n.plainObjects||n.allowPrototypes||!a.call(Object.prototype,t))&&(r[t]=!0)}return r}if("object"!=typeof r)return[r].concat(t);var o=r;return Array.isArray(r)&&!Array.isArray(t)&&(o=c(r,n)),Array.isArray(r)&&Array.isArray(t)?(t.forEach(function(t,o){a.call(r,o)?r[o]&&"object"==typeof r[o]?r[o]=e(r[o],t,n):r.push(t):r[o]=t}),r):Object.keys(t).reduce(function(r,o){var c=t[o];return a.call(r,o)?r[o]=e(r[o],c,n):r[o]=c,r},o)},s=function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},u=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return e}},l=function(e){if(0===e.length)return e;for(var r="string"==typeof e?e:String(e),t="",a=0;a<r.length;++a){var o=r.charCodeAt(a);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?t+=r.charAt(a):o<128?t+=n[o]:o<2048?t+=n[192|o>>6]+n[128|63&o]:o<55296||o>=57344?t+=n[224|o>>12]+n[128|o>>6&63]+n[128|63&o]:(a+=1,o=65536+((1023&o)<<10|1023&r.charCodeAt(a)),t+=n[240|o>>18]+n[128|o>>12&63]+n[128|o>>6&63]+n[128|63&o])}return t},p=function(e){for(var r=[{obj:{o:e},prop:"o"}],t=[],a=0;a<r.length;++a)for(var n=r[a],c=n.obj[n.prop],i=Object.keys(c),s=0;s<i.length;++s){var u=i[s],l=c[u];"object"==typeof l&&null!==l&&-1===t.indexOf(l)&&(r.push({obj:c,prop:u}),t.push(l))}return o(r)},d=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},f=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:c,assign:s,compact:p,decode:u,encode:l,isBuffer:f,isRegExp:d,merge:i}},1477:function(e,r,t){"use strict";var a=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return a.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},1521:function(e,r,t){"use strict";var a=t(1522),n=t(1523),o=t(1477);e.exports={formats:o,parse:n,stringify:a}},1522:function(e,r,t){"use strict";var a=t(1476),n=t(1477),o={brackets:function(e){return e+"[]"},indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},c=Date.prototype.toISOString,i={delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},s=function e(r,t,n,o,c,s,u,l,p,d,f,y){var b=r;if("function"==typeof u)b=u(t,b);else if(b instanceof Date)b=d(b);else if(null===b){if(o)return s&&!y?s(t,i.encoder):t;b=""}if("string"==typeof b||"number"==typeof b||"boolean"==typeof b||a.isBuffer(b)){if(s){return[f(y?t:s(t,i.encoder))+"="+f(s(b,i.encoder))]}return[f(t)+"="+f(String(b))]}var m=[];if(void 0===b)return m;var v;if(Array.isArray(u))v=u;else{var g=Object.keys(b);v=l?g.sort(l):g}for(var h=0;h<v.length;++h){var x=v[h];c&&null===b[x]||(m=Array.isArray(b)?m.concat(e(b[x],n(t,x),n,o,c,s,u,l,p,d,f,y)):m.concat(e(b[x],t+(p?"."+x:"["+x+"]"),n,o,c,s,u,l,p,d,f,y)))}return m};e.exports=function(e,r){var t=e,c=r?a.assign({},r):{};if(null!==c.encoder&&void 0!==c.encoder&&"function"!=typeof c.encoder)throw new TypeError("Encoder has to be a function.");var u=void 0===c.delimiter?i.delimiter:c.delimiter,l="boolean"==typeof c.strictNullHandling?c.strictNullHandling:i.strictNullHandling,p="boolean"==typeof c.skipNulls?c.skipNulls:i.skipNulls,d="boolean"==typeof c.encode?c.encode:i.encode,f="function"==typeof c.encoder?c.encoder:i.encoder,y="function"==typeof c.sort?c.sort:null,b=void 0!==c.allowDots&&c.allowDots,m="function"==typeof c.serializeDate?c.serializeDate:i.serializeDate,v="boolean"==typeof c.encodeValuesOnly?c.encodeValuesOnly:i.encodeValuesOnly;if(void 0===c.format)c.format=n.default;else if(!Object.prototype.hasOwnProperty.call(n.formatters,c.format))throw new TypeError("Unknown format option provided.");var g,h,x=n.formatters[c.format];"function"==typeof c.filter?(h=c.filter,t=h("",t)):Array.isArray(c.filter)&&(h=c.filter,g=h);var j=[];if("object"!=typeof t||null===t)return"";var O;O=c.arrayFormat in o?c.arrayFormat:"indices"in c?c.indices?"indices":"repeat":"indices";var w=o[O];g||(g=Object.keys(t)),y&&g.sort(y);for(var k=0;k<g.length;++k){var A=g[k];p&&null===t[A]||(j=j.concat(s(t[A],A,w,l,p,d?f:null,h,y,b,m,x,v)))}var P=j.join(u),N=!0===c.addQueryPrefix?"?":"";return P.length>0?N+P:""}},1523:function(e,r,t){"use strict";var a=t(1476),n=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:a.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},c=function(e,r){for(var t={},a=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,c=r.parameterLimit===1/0?void 0:r.parameterLimit,i=a.split(r.delimiter,c),s=0;s<i.length;++s){var u,l,p=i[s],d=p.indexOf("]="),f=-1===d?p.indexOf("="):d+1;-1===f?(u=r.decoder(p,o.decoder),l=r.strictNullHandling?null:""):(u=r.decoder(p.slice(0,f),o.decoder),l=r.decoder(p.slice(f+1),o.decoder)),n.call(t,u)?t[u]=[].concat(t[u]).concat(l):t[u]=l}return t},i=function(e,r,t){for(var a=r,n=e.length-1;n>=0;--n){var o,c=e[n];if("[]"===c)o=[],o=o.concat(a);else{o=t.plainObjects?Object.create(null):{};var i="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,s=parseInt(i,10);!isNaN(s)&&c!==i&&String(s)===i&&s>=0&&t.parseArrays&&s<=t.arrayLimit?(o=[],o[s]=a):o[i]=a}a=o}return a},s=function(e,r,t){if(e){var a=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,s=o.exec(a),u=s?a.slice(0,s.index):a,l=[];if(u){if(!t.plainObjects&&n.call(Object.prototype,u)&&!t.allowPrototypes)return;l.push(u)}for(var p=0;null!==(s=c.exec(a))&&p<t.depth;){if(p+=1,!t.plainObjects&&n.call(Object.prototype,s[1].slice(1,-1))&&!t.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+a.slice(s.index)+"]"),i(l,r,t)}};e.exports=function(e,r){var t=r?a.assign({},r):{};if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(t.ignoreQueryPrefix=!0===t.ignoreQueryPrefix,t.delimiter="string"==typeof t.delimiter||a.isRegExp(t.delimiter)?t.delimiter:o.delimiter,t.depth="number"==typeof t.depth?t.depth:o.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,t.parseArrays=!1!==t.parseArrays,t.decoder="function"==typeof t.decoder?t.decoder:o.decoder,t.allowDots="boolean"==typeof t.allowDots?t.allowDots:o.allowDots,t.plainObjects="boolean"==typeof t.plainObjects?t.plainObjects:o.plainObjects,t.allowPrototypes="boolean"==typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,t.strictNullHandling="boolean"==typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling,""===e||null===e||void 0===e)return t.plainObjects?Object.create(null):{};for(var n="string"==typeof e?c(e,t):e,i=t.plainObjects?Object.create(null):{},u=Object.keys(n),l=0;l<u.length;++l){var p=u[l],d=s(p,n[p],t);i=a.merge(i,d,t)}return a.compact(i)}},1705:function(e,r){function t(e){if(null==e)throw new TypeError("Cannot destructure undefined")}e.exports=t}});